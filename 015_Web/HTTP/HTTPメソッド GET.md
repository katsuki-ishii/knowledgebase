---
base: "[[Web.HTTP.base]]"
作成者: Katsubo Katsubo
カテゴリー:
  - Web
作成日時: 2025-01-29T12:00:00
aliases: [HTTPメソッド GET, HTTPメソッド：GET, GET, GETメソッド, GET method]
---

# [[HTTPメソッド GET|HTTPメソッド：GET]]

## 1. HTTPとは何か

HTTPは、ブラウザとサーバーが通信するためのルール（プロトコル）である。
ブラウザは必ずサーバーに「リクエスト」を送り、サーバーはそれに対して「レスポンス」を返す。

```
[ブラウザ] ── リクエスト ──▶ [サーバー]
[ブラウザ] ◀─ レスポンス ── [サーバー]
```

HTTP自体は通信内容の意味を理解しない。意味付けはすべてアプリケーション（サーバー実装）側で行う。

---

## 2. HTTPはステートレス

HTTPはステートレスであり、過去の通信内容を覚えない。
各リクエストは[[ITと不完全さに惹かれる理由|完全]]に独立している。

```
リクエストA → 処理
リクエストB → 処理（Aの記憶なし）
```

ログイン状態などは、[[Cookie]]やセッションといった仕組みで「覚えているように見せている」だけである。

---

## 3. [[HTTPメソッド GET|GETメソッド]]の基本

[[HTTPメソッド GET|GET]]は「リソースを取得する」ためのメソッドである。

### 例

```
GET /index.html HTTP/1.1
Host: example.com
```

意味：

* /index.html を取得したい
* サーバーの状態は変更しない

[[HTTPメソッド GET|GET]]は以下の性質を期待されている。

* [[基礎 Part 21 副作用と純粋関数|副作用]]がない
* 同じリクエストなら同じ結果になる

---

## 4. クエリパラメータ

[[HTTPメソッド GET|GET]]では[[URI・URL・URN|URL]]にパラメータを付与できる。

### 例

```
/search?q=chatgpt&page=2
```

HTTP的には、これは単なる文字列である。

```
?q=chatgpt&page=2
```

これを

* q = 検索キーワード
* page = ページ番号

と解釈するのは、[[ITと不完全さに惹かれる理由|完全]]にサーバー側の実装次第である。

---

## 5. [[HTTPメソッド GET|GET]]は仕様的に何でもできるか

HTTP仕様上、[[HTTPメソッド GET|GET]]で削除や更新処理を行うことは禁止されていない。

```
GET /delete-user?id=123
```

このような実装は可能である。

しかし、設計としては非常に危険である。

---

## 6. なぜ[[HTTPメソッド GET|GET]]で[[基礎 Part 21 副作用と純粋関数|副作用]]を持たせると危険か

理由は、[[HTTPメソッド GET|GET]]がブラウザや周辺システムから「取得専用」として特別扱いされるためである。

### [[HTTPメソッド GET|GET]]が自動で実行される例

* アドレスバー入力
* aタグのリンク
* img / script / link タグ
* 戻る・更新
* プリフェッチ
* クローラ（検索エンジン）

```
[リンクを表示]
      ↓
[ブラウザが勝手にGET]
```

ユーザー操作なしに実行される可能性がある。

---

## 7. プリフェッチとは

プリフェッチとは「次に使いそうなリソースを先に[[HTTPメソッド GET|GET]]する」仕組みである。

### 例

```
<link rel="prefetch" href="/next">
```

ブラウザは、ユーザーがまだ操作していなくても[[HTTPメソッド GET|GET]]を送る。
そのため、[[HTTPメソッド GET|GET]]に[[基礎 Part 21 副作用と純粋関数|副作用]]があると意図しない処理が実行される。

---

## 8. [[HTTPメソッド GET|GET]]と他メソッドの決定的な違い

JavaScriptのfetchでは、[[HTTPメソッド GET|GET]]もPOSTも同列である。

```
fetch('/api/data')
fetch('/api/data', { method: 'POST' })
```

しかし、ブラウザが自動的に送信するのは基本的に[[HTTPメソッド GET|GET]]のみである。

| 観点       | [[HTTPメソッド GET|GET]]   | POST等 |
| -------- | ----- | ----- |
| fetchで送信 | 可能    | 可能    |
| ブラウザ自動送信 | あり    | なし    |
| キャッシュ    | されやすい | されにくい |
| プリフェッチ   | される   | されない  |

---

## 9. SPAと[[HTTPメソッド GET|GET]]の関係

SPAではHTMLによるページ遷移は行われない。

```
初回:
HTML GET → JS起動

以降:
画面遷移 = JSがDOMを書き換え
```

しかし、以下の[[HTTPメソッド GET|GET]]は引き続き発生する。

* APIデータ取得
* JSファイルの遅延ロード
* 画像や[[ULCOD CSS|CSS]]の取得

つまり、SPAでも[[HTTPメソッド GET|GET]]は依然として重要であり、[[基礎 Part 21 副作用と純粋関数|副作用]]ゼロの原則は崩れない。

---

## 10. 設計上の鉄則

* [[HTTPメソッド GET|GET]]は何回実行されても安全であること
* [[HTTPメソッド GET|GET]]は誰がいつ実行しても問題ないこと
* [[基礎 Part 21 副作用と純粋関数|副作用]]のある処理はPOST/PUT/PATCH/DELETEに分離する

これはHTTP仕様ではなく、Web全体が成立するための現実的ルールである。
