---
base: "[[ナレッジベース.base]]"
作成者: Katsubo Katsubo
カテゴリー:
  - JavaScript
作成日時: 2025-06-22T17:22:00
---
## セミコロンの役割

- JavaScriptでは、**文（statement）の区切り**としてセミコロン（;）を使う
- *自動セミコロン挿入（ASI）**のおかげで省略できる場合もあるが、思わぬバグが起きることも

### ● 基本ルール

- **変数宣言、代入、return、式の終了などには基本セミコロンをつける**
- **if, for, while, function宣言などのカッコの後には不要**
- **オブジェクトや配列の「中身」にはセミコロン不要（カンマ区切り）**

### ● 付けないとバグる例

```javascript
let a = 1
let b = 2
[a, b].forEach(console.log)
// → JSは「let b = 2[a, b].forEach...」と解釈しエラー

```

### ● return文の罠

```javascript
function foo() {
  return
  {
    message: "hello"
  }
}
// 期待通りに { message: "hello" } が返らず、undefinedになる

```

→ **return文も同じ行に値を書くか、必ずセミコロンを！**

### ● まとめ指針

- **文の区切りには必ずセミコロンをつける癖を！**
- プリティア(Prettier)など自動整形ツール導入で迷いを消そう

---

## パース(parse)とは？

- **プログラムの文字列をコンピュータが「意味のある構造」に分解・解釈すること**
- 日本語で言うと、文章を「主語」「動詞」「目的語」…に分けて意味を認識するイメージ
- パース時点で意味不明な構文は「構文エラー」になる

---

## JSの実行プロセス（ざっくり）

1. **ソースコードを書く**
2. **パース（構文解析）**
3. **抽象構文木(AST)を作る**
4. **バイトコードや中間コードに変換**
5. **JITなどで一部をネイティブコード化**
6. **実行**
- パースは「ネイティブコード化」の前段階であり、“意味付け・下ごしらえ”の工程！
- セミコロンは「パース時に区切りを明示」するために必要

---

## よくあるQ&A

### Q. セミコロン全部付けた方が良い？

A. → 迷ったら**全部付けてOK**。省略できても「バグ防止」のためクセにしよう！

### Q. return文は？

A. → **必ず同じ行に書くか、セミコロンを！** （改行だけだと罠になる）

### Q. オブジェクトには？

A. → **オブジェクト自体には不要**だが、「文として使うとき」はその文の終わりに付ける

---

## まとめ

- **セミコロンは「文の区切り」！ パース時に重要！**
- **全部付ける派が一番安全**
- **パース＝意味付け・解釈・下ごしらえの工程**

