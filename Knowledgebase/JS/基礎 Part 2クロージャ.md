---
base: "[[ナレッジベース.base]]"
作成者: Katsubo Katsubo
カテゴリー:
  - JavaScript
作成日時: 2025-06-18T22:53:00
aliases: [クロージャ, closure, Closure]
---
## 1. [[基礎 Part 2クロージャ|クロージャ]]って何？

- 関数の中で定義した変数を、その関数の外でも「間接的に」使い続けられる仕組み
- 具体的には「**親関数のスコープ（変数）を、子関数が覚えている状態**」
- よく言われる表現：「関数＋変数＝[[基礎 Part 2クロージャ|クロージャ]]」

---

## 2. なぜ面白いの？

- 普通は関数内の変数は、関数が終わると消える
- でも[[基礎 Part 2クロージャ|クロージャ]]だと、**親関数の変数を“子関数がずっと持っていられる”**
- 例：カウンター関数（毎回値を増やして返す関数）が簡単に作れる

---

## 3. 具体的なコード例（JavaScript）

```javascript
function createCounter(n) {
  let number = n;
  return function() {
    return number++;
  };
}

const counter = createCounter(10);
console.log(counter()); // 10
console.log(counter()); // 11
console.log(counter()); // 12

```

- `number` は createCounter の中のローカル変数
- でも、返された関数（[[基礎 Part 2クロージャ|クロージャ]]）はその number をずっと覚えている

---

## 4. [[基礎 Part 2クロージャ|クロージャ]]になる条件

- 子関数（内部関数）が、親関数の変数（スコープ）を参照していること
- その子関数が、親関数の外でも呼び出せる状態であること

---

## 5. [[基礎 Part 2クロージャ|クロージャ]]の実体は？

- 実体は「**親関数のスコープを記憶している子関数**」
- 親関数の変数を使っていない場合は[[基礎 Part 2クロージャ|クロージャ]]にならない

---

## 6. よくある質問と答え

### Q. [[基礎 Part 2クロージャ|クロージャ]]はなぜ便利？

- [[基礎 Part 33 グローバルCSS|グローバル]]変数を汚さずに「状態を持つ関数」を作れる
- カプセル化（安全な情報の隠蔽）ができる

### Q. 子関数＝[[基礎 Part 2クロージャ|クロージャ]]？

- 親の変数を参照していれば[[基礎 Part 2クロージャ|クロージャ]]、そうでなければ普通の関数
