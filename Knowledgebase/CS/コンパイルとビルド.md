---
base: "[[ナレッジベース.base]]"
作成者: Katsubo Katsubo
カテゴリー:
  - CS
作成日時: 2025-12-27T12:47:00
---
# コンパイルとビルドの整理

## 1. 用語の結論

- **コンパイル**：ある言語・表現を、別の言語・表現に翻訳する処理
- **ビルド**：アプリを実行・配布できる形にするための一連の工程

コンパイルはビルドの一工程であり、同義ではない。

---

## 2. コンパイルとは何か

### 定義

> ソースコードの意味を保ったまま、別の形式のコードに変換する処理

多くの場合、**1ファイル単位**で行われる。

### 具体例

### Vue の場合

```plain text
<template>
  <div>{{ count }}</div>
</template>

```

↓ コンパイル

```javascript
render() {
  return h('div', this.count)
}

```

- 人間が書きやすい template を
- JavaScript の render 関数に変換している

### TypeScript の場合

```typescript
let x: number = 1

```

↓ コンパイル

```javascript
let x = 1

```

- 型情報を除去し、JavaScript に変換

---

## 3. ビルドとは何か

### 定義

> アプリケーションを実際に動かせる状態にするための工程の集合

### 典型的なビルド工程

1. コンパイル（Vue / TypeScript / JSX など）
2. 依存関係の解決（import の追跡）
3. ファイルの結合（バンドル）
4. 不要コードの削除（tree-shaking）
5. 圧縮（minify）
6. CSS・画像などの整理
7. dist フォルダへの出力

---

## 4. 図解：コンパイルとビルドの関係

```plain text
ソースコード
   │
   ├─ コンパイル（翻訳）
   │      │
   │      └─ JavaScript / CSS など
   │
   ├─ 依存解決
   ├─ バンドル
   ├─ 最適化
   │
   ▼
完成したアプリ（dist/）

```

- コンパイルは部分的な変換
- ビルドは完成までの全体作業

---

## 5. Vite と Vue コンパイラの位置づけ

### Vue コンパイラ

- パッケージ：`@vue/compiler-sfc`
- 役割：`.vue` ファイルを JavaScript にコンパイル
- 実行場所：Node.js（開発時・ビルド時）

### Vite

- 役割：開発サーバーとビルド全体の司令塔
- Vue コンパイラを **プラグイン経由で呼び出す**

### 図解

```plain text
.vue ファイル
   │
   ▼
Vite
   │
   ▼
@vitejs/plugin-vue
   │
   ▼
@vue/compiler-sfc
   │
   ▼
JavaScript

```

---

## 6. 開発時とビルド時の違い（Vite）

### 開発時（dev）

- ファイルはバンドルしない
- 必要になったモジュールだけをオンデマンドで変換
- 保存時は影響範囲のみ再処理

### 本番ビルド時（build）

- Rollup を使ってバンドル
- すべての工程を通して dist を生成

---

## 7. まとめ

- コンパイルは「翻訳」
- ビルドは「完成までの工程一式」
- Vue コンパイラは翻訳担当
- Vite は全体の進行管理
- この区別ができると、Vite・webpack・Rollup の役割が整理できる

## 関連
- [[npm]]
- [[Vite HMR]]
