---
base: "[[JavaScript.base]]"
作成者: Katsubo Katsubo
カテゴリー:
  - JavaScript
作成日時: 2025-06-22T23:44:00
aliases: [ブロックとブロックスコープ, ブロック, ブロックスコープ, block, scope]
---
## 1. [[基礎 Part 9ブロックとブロックスコープ|ブロック]]とは

- **[[基礎 Part 9ブロックとブロックスコープ|ブロック]]**は、`{}`（中カッコ）で囲まれたコードのまとまり。
    - 例: `if`, `for`, `while`, 関数、単独の `{}` など
    - **例：**
```javascript
{
  // この中がブロック
  let x = 1;
}

```

## 2. [[基礎 Part 9ブロックとブロックスコープ|ブロックスコープ]]とは

- **[[基礎 Part 9ブロックとブロックスコープ|ブロックスコープ]]**は、[[基礎 Part 9ブロックとブロックスコープ|ブロック]]内で[[基礎 Part 8 宣言・代入・再代入|宣言]]された変数や定数が、その[[基礎 Part 9ブロックとブロックスコープ|ブロック]]の外からアクセスできないというスコープ（範囲）のこと。
- `let` と `const` は[[基礎 Part 9ブロックとブロックスコープ|ブロックスコープ]]を持つ。
- `var` は[[基礎 Part 9ブロックとブロックスコープ|ブロックスコープ]]を持たず、「関数スコープ」になる。

### 例：

```javascript
if (true) {
  let a = 10; // aはこのブロック内でのみ有効
  const b = 20; // bも同じく
}
console.log(a); // エラー！aは外からアクセスできない

```

### varとの違い：

```javascript
if (true) {
  var c = 30; // cはブロック外でも有効
}
console.log(c); // 30 が表示される

```

---

## 3. なぜ[[基礎 Part 9ブロックとブロックスコープ|ブロックスコープ]]が重要？

- [[基礎 Part 34 グローバルCSS|グローバル]]や関数の外で変数が暴走しない（バグ防止）
- for文などで一時的に使いたい変数の管理が楽
- コードの安全性、読みやすさUP

---

## 4. まとめ

- **[[基礎 Part 9ブロックとブロックスコープ|ブロック]]** … `{}` で囲む部分
- **[[基礎 Part 9ブロックとブロックスコープ|ブロックスコープ]]** … [[基礎 Part 9ブロックとブロックスコープ|ブロック]]内限定のスコープ（`let`, `const`）
- **varは例外** … [[基礎 Part 9ブロックとブロックスコープ|ブロックスコープ]]なし（関数スコープ）

---

## 5. チートシート

| [[基礎 Part 8 宣言・代入・再代入|宣言]]方法 | [[基礎 Part 9ブロックとブロックスコープ|ブロックスコープ]] | 関数スコープ | [[基礎 Part 34 グローバルCSS|グローバル]]スコープ |
| --- | --- | --- | --- |
| var | × | ○ | ○ |
| let | ○ | ○ | ○ |
| const | ○ | ○ | ○ |

---

## 6. ちょいネタ（JSあるある）

- `for (var i = 0; i < 3; i++) {...}` で非同期処理すると、全て同じ値になる問題 → letを使うと解決
- let/constは再[[基礎 Part 8 宣言・代入・再代入|宣言]]できないが、varはできてしまう（これがトラブルの元）

---

## 7. よくある疑問Q&A

**Q. 関数の中でもlet/constは[[基礎 Part 9ブロックとブロックスコープ|ブロックスコープ]]？**

→ Yes！どこでも `{}` で囲まれていれば、そこでスコープが発生。

**Q. [[基礎 Part 9ブロックとブロックスコープ|ブロック]]なしでlet/const使うとどうなる？**

→ そのスコープ（たとえば関数や[[基礎 Part 34 グローバルCSS|グローバル]]）で有効。

**Q. varを使う場面は？**

→ 現代のJSではほぼ無し。歴史的事情。

---

## 8. 参考リンク

- [MDN: ブロックスコープ](https://developer.mozilla.org/ja/docs/Web/JavaScript/Reference/Statements/block)
- [MDN: var, let, constの違い](https://developer.mozilla.org/ja/docs/Web/JavaScript/Reference/Statements/var)

---

